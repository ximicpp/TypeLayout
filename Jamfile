# Boost.TypeLayout - B2 Build File
#
# Copyright (c) 2024-2026 TypeLayout Development Team
# Distributed under the Boost Software License, Version 1.0.
# (See accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

import project ;
import modules ;

path-constant here : . ;

# Project definition
project boost/typelayout
    : requirements
        <include>include
        # P2996 reflection flags (Bloomberg Clang only)
        <toolset>clang:<cxxflags>"-std=c++26 -freflection -freflection-latest -stdlib=libc++"
    : usage-requirements
        <include>include
    : build-dir bin
    ;

# Header-only library declaration
alias boost_typelayout
    : # no sources (header-only)
    : # requirements
    : # default build
    : # usage requirements
        <include>include
    ;

# Build examples (optional)
build-project example ;

# Build tests (optional)  
build-project test ;

# Explicit install target for headers
explicit install-headers ;
install install-headers
    : [ glob-tree include/boost/*.hpp : .git ]
    : <location>$(BOOST_ROOT)/boost
    ;
