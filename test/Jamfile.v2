# Boost.TypeLayout - Test Jamfile
#
# Copyright (c) 2024-2026 TypeLayout Development Team
# Distributed under the Boost Software License, Version 1.0.

project boost/typelayout/test
    : requirements
        <include>../include
        <cxxstd>26
        <define>BOOST_TEST_DYN_LINK
    ;

import testing ;

# Note: These tests require Bloomberg Clang P2996 fork with -freflection flag
# Standard Boost.Test runner may not support P2996; see CI configuration for details

# Compile-time tests (static_assert only)
compile test_all_types.cpp ;
compile test_edge_cases.cpp ;

# Unit tests using Boost.Test
run test_primitives.cpp /boost/test//boost_unit_test_framework ;
run test_structs.cpp /boost/test//boost_unit_test_framework ;
run test_inheritance.cpp /boost/test//boost_unit_test_framework ;
run test_bitfields.cpp /boost/test//boost_unit_test_framework ;
run test_portability.cpp /boost/test//boost_unit_test_framework ;
run test_hash.cpp /boost/test//boost_unit_test_framework ;
run test_concepts.cpp /boost/test//boost_unit_test_framework ;
