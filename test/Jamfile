# Boost.TypeLayout - Tests Build File
#
# Copyright (c) 2024-2026 TypeLayout Development Team
# Distributed under the Boost Software License, Version 1.0.
# (See accompanying file LICENSE_1_0.txt or copy at
# http://www.boost.org/LICENSE_1_0.txt)

import testing ;

project boost/typelayout/test
    : requirements
        <library>/boost/typelayout//boost_typelayout
    ;

# =========================================================================
# Boost.Test Unit Tests (Primary)
# =========================================================================

# Main Boost.Test unit test suite (header-only mode)
run boost_test_typelayout.cpp
    : # args
    : # input files
    : # requirements
    : boost_test_typelayout  # target name
    ;

# =========================================================================
# Compile-Time Tests (Legacy - pass if they compile)
# =========================================================================

compile test_all_types.cpp ;
compile test_alignment.cpp ;
compile test_anonymous_member.cpp ;
compile test_user_defined_types.cpp ;
compile test_complex_cases.cpp ;

# =========================================================================
# Runtime Tests (Legacy)
# =========================================================================

run test_signature_comprehensive.cpp ;
run test_signature_extended.cpp ;

# =========================================================================
# Constexpr Limits Test (Requires Extended Step Limit)
# =========================================================================

run test_constexpr_limits.cpp
    : # args
    : # input files
    : # requirements
        <cxxflags>"-fconstexpr-steps=10000000"
    : test_constexpr_limits  # target name
    ;