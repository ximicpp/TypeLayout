# TypeLayout Cross-Platform Compatibility â€” Platform Registry
#
# Each section defines a target platform with its build environment.
# Format: [platform-name]  (must match {arch}_{os}_{compiler} convention)
#
# Fields:
#   mode          = docker | local    (default: docker)
#   docker_image  = Docker image for this platform (when mode=docker)
#   compiler      = C++ compiler command
#   flags         = Compiler flags for P2996 + C++26
#   link_flags    = Linker flags (optional)
#   env           = Environment variables (KEY=VALUE, comma-separated)
#   description   = Human-readable description
#
# Copyright (c) 2024-2026 TypeLayout Development Team
# Distributed under the Boost Software License, Version 1.0.

[x86_64-linux-clang]
description   = x86-64 Linux (Bloomberg Clang P2996)
mode          = docker
docker_image  = ghcr.io/ximicpp/typelayout-p2996:latest
compiler      = clang++
flags         = -std=c++26 -freflection -freflection-latest -stdlib=libc++
link_flags    = -stdlib=libc++
env           = LD_LIBRARY_PATH=/opt/p2996-toolchain/lib/x86_64-unknown-linux-gnu

[arm64-linux-clang]
description   = AArch64 Linux (Bloomberg Clang P2996)
mode          = docker
docker_image  = ghcr.io/ximicpp/typelayout-p2996:arm64
compiler      = clang++
flags         = -std=c++26 -freflection -freflection-latest -stdlib=libc++
link_flags    = -stdlib=libc++
env           = LD_LIBRARY_PATH=/opt/p2996-toolchain/lib/aarch64-unknown-linux-gnu

[arm64-macos-clang]
description   = AArch64 macOS (Apple Clang P2996)
mode          = local
compiler      = clang++
flags         = -std=c++26 -freflection -freflection-latest
link_flags    =
env           =

[x86_64-macos-clang]
description   = x86-64 macOS (Apple Clang P2996)
mode          = local
compiler      = clang++
flags         = -std=c++26 -freflection -freflection-latest
link_flags    =
env           =
