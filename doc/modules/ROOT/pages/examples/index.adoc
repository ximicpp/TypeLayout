= Examples
:navtitle: Examples

Practical examples demonstrating Boost.TypeLayout usage.

== Example Categories

xref:examples/basic-usage.adoc[Basic Usage]::
Fundamental operations: signatures, hashes, and portability checks.

xref:examples/network-protocol.adoc[Network Protocol]::
Using TypeLayout for binary protocol validation.

xref:examples/shared-memory.adoc[Shared Memory]::
IPC with layout-verified shared memory structures.

xref:examples/serialization.adoc[Serialization]::
Binary serialization with layout verification.

== Quick Examples

=== Get a Type's Signature

[source,cpp]
----
#include <boost/typelayout.hpp>
#include <iostream>

struct Point {
    float x;
    float y;
};

int main() {
    constexpr auto sig = get_layout_signature<Point>();
    std::cout << sig << std::endl;
    // Output: [64-le]struct[s:8,a:4]{@0[x]:f32,@4[y]:f32}
}
----

=== Verify Layout at Compile Time

[source,cpp]
----
struct NetworkHeader {
    std::uint32_t magic;
    std::uint16_t version;
    std::uint16_t flags;
};

// Ensure layout hasn't changed
static_assert(
    get_layout_hash<NetworkHeader>() == 0x1234567890abcdef,
    "NetworkHeader layout changed - update protocol version"
);
----

=== Check Serializability

[source,cpp]
----
struct SerializableConfig {
    std::int32_t  setting_a;
    std::uint64_t setting_b;
};

struct NonSerializableConfig {
    long value;  // Size varies by platform (LLP64 vs LP64)
};

constexpr auto platform = PlatformSet::bits64_le();

static_assert(is_serializable_v<SerializableConfig, platform>);    // ✓ Passes
// static_assert(is_serializable_v<NonSerializableConfig, platform>); // ✗ Fails
----

=== Constrain Templates

[source,cpp]
----
template<Serializable T>
void send_to_network(const T& data) {
    // Only accepts types safe for binary serialization
    auto bytes = std::as_bytes(std::span(&data, 1));
    socket.send(bytes);
}
----

== Running the Examples

Each example can be compiled with:

[source,bash]
----
clang++ -std=c++26 -freflection -O2 example.cpp -o example
./example
----

== See Also

* xref:../quickstart.adoc[Quick Start]
* xref:../user-guide/index.adoc[User Guide]
